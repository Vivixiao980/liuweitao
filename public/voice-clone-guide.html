<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¯­éŸ³å…‹éš†æŒ‡å¯¼ - ç¤¼æ˜è€å¸ˆ</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .guide-container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-heavy);
        }
        
        .guide-section {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: var(--secondary-color);
            border-radius: var(--border-radius);
            border-left: 4px solid var(--primary-color);
        }
        
        .checklist {
            list-style: none;
            padding: 0;
        }
        
        .checklist li {
            padding: 0.5rem 0;
            display: flex;
            align-items: center;
        }
        
        .checklist li::before {
            content: "âœ…";
            margin-right: 0.5rem;
            font-size: 1.2rem;
        }
        
        .sample-script {
            background: #f8fafc;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
            font-family: 'Georgia', serif;
            line-height: 1.6;
        }
        
        .recording-tips {
            background: #fef3c7;
            border: 1px solid #f59e0b;
            color: #92400e;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
        }
        
        .tech-specs {
            background: #e0f2fe;
            border: 1px solid #0891b2;
            color: #0c4a6e;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
        }
        
        .record-button {
            background: #dc2626;
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 50px;
            cursor: pointer;
            font-size: 16px;
            margin: 1rem;
            box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
            transition: all 0.3s ease;
        }
        
        .record-button:hover {
            background: #b91c1c;
            transform: translateY(-2px);
        }
        
        .record-button.recording {
            background: #22c55e;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(34, 197, 94, 0); }
            100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); }
        }
        
        .audio-player {
            width: 100%;
            margin: 1rem 0;
        }
    </style>
</head>
<body>
    <div class="guide-container">
        <a href="/minimax-voice-setup.html" class="back-link">
            <i class="fa fa-arrow-left"></i>
            è¿”å›MiniMaxè¯­éŸ³è®¾ç½®
        </a>
        
        <div class="upload-header">
            <h1>ğŸ™ï¸ ç¤¼æ˜è€å¸ˆè¯­éŸ³å…‹éš†æŒ‡å¯¼</h1>
            <p>åˆ›å»ºé«˜è´¨é‡çš„è¯­éŸ³å…‹éš†ï¼Œè®©AIç”¨æ‚¨çš„çœŸå®å£°éŸ³è¯´è¯</p>
        </div>

        <!-- å½•éŸ³è¦æ±‚ -->
        <div class="guide-section">
            <h2>ğŸ“‹ å½•éŸ³è¦æ±‚æ¸…å•</h2>
            <ul class="checklist">
                <li>å®‰é™çš„å½•éŸ³ç¯å¢ƒï¼Œæ— èƒŒæ™¯å™ªéŸ³</li>
                <li>ä½¿ç”¨è´¨é‡è‰¯å¥½çš„éº¦å…‹é£</li>
                <li>å½•éŸ³æ—¶é•¿3-10åˆ†é’Ÿ</li>
                <li>åŒ…å«å¤šç§è¯­è°ƒå’Œæƒ…æ„Ÿ</li>
                <li>æ¸…æ™°çš„æ™®é€šè¯å‘éŸ³</li>
                <li>è‡ªç„¶çš„è¯­é€Ÿï¼Œä¸è¦è¿‡å¿«æˆ–è¿‡æ…¢</li>
                <li>é¿å…å’³å—½ã€åœé¡¿è¿‡é•¿ç­‰å¹²æ‰°</li>
            </ul>
        </div>

        <!-- æŠ€æœ¯è§„æ ¼ -->
        <div class="guide-section">
            <h2>ğŸ”§ æŠ€æœ¯è§„æ ¼</h2>
            <div class="tech-specs">
                <strong>æ¨èè®¾ç½®ï¼š</strong><br>
                â€¢ æ ¼å¼ï¼šMP3 æˆ– WAV<br>
                â€¢ é‡‡æ ·ç‡ï¼š44.1kHz æˆ–æ›´é«˜<br>
                â€¢ æ¯”ç‰¹ç‡ï¼š128kbps æˆ–æ›´é«˜<br>
                â€¢ å•å£°é“æˆ–ç«‹ä½“å£°å‡å¯<br>
                â€¢ æ–‡ä»¶å¤§å°ï¼šæ¯ä¸ªæ–‡ä»¶ä¸è¶…è¿‡50MB
            </div>
        </div>

        <!-- å½•éŸ³å†…å®¹å»ºè®® -->
        <div class="guide-section">
            <h2>ğŸ“ å½•éŸ³å†…å®¹å»ºè®®</h2>
            <p>ä»¥ä¸‹æ˜¯ä¸€ä»½ç¤ºä¾‹è„šæœ¬ï¼Œæ‚¨å¯ä»¥å‚è€ƒå½•åˆ¶ï¼š</p>
            
            <div class="sample-script">
                <h3>ç¤¼æ˜è€å¸ˆä»‹ç»</h3>
                <p>ä½ å¥½ï¼Œæˆ‘æ˜¯ç¤¼æ˜ï¼Œæ‰“è¿‡èƒœä»—ã€æ„¿æ„åˆ†äº«ã€‚æˆ‘å¾ˆé«˜å…´èƒ½åœ¨è¿™é‡Œä¸å¤§å®¶äº¤æµã€‚åœ¨æˆ‘çš„èŒä¸šç”Ÿæ¶¯ä¸­ï¼Œæˆ‘ç»å†äº†è®¸å¤šæŒ‘æˆ˜å’Œæœºé‡ï¼Œä¹Ÿç§¯ç´¯äº†ä¸å°‘ç»éªŒå’Œæ„Ÿæ‚Ÿã€‚</p>
                
                <h3>æ•™å­¦ç†å¿µ</h3>
                <p>æˆ‘è®¤ä¸ºå­¦ä¹ æœ€é‡è¦çš„æ˜¯è¦æœ‰å¥½å¥‡å¿ƒå’ŒåšæŒä¸æ‡ˆçš„ç²¾ç¥ã€‚æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„å­¦ä¹ æ–¹å¼ï¼Œå…³é”®æ˜¯è¦æ‰¾åˆ°é€‚åˆè‡ªå·±çš„æ–¹æ³•ã€‚é‡åˆ°å›°éš¾æ—¶ï¼Œä¸è¦è½»æ˜“æ”¾å¼ƒï¼Œè¦ç›¸ä¿¡è‡ªå·±çš„èƒ½åŠ›ã€‚</p>
                
                <h3>é¼“åŠ±è¯è¯­</h3>
                <p>è®°ä½ï¼ŒæˆåŠŸä¸æ˜¯ä¸€è¹´è€Œå°±çš„ï¼Œè€Œæ˜¯é€šè¿‡ä¸æ–­çš„åŠªåŠ›å’ŒåšæŒå®ç°çš„ã€‚æ¯ä¸€æ¬¡çš„å¤±è´¥éƒ½æ˜¯æˆé•¿çš„æœºä¼šï¼Œæ¯ä¸€æ¬¡çš„å°è¯•éƒ½è®©æˆ‘ä»¬æ›´æ¥è¿‘ç›®æ ‡ã€‚ç›¸ä¿¡è‡ªå·±ï¼Œä½ ä¸€å®šå¯ä»¥åšåˆ°ï¼</p>
                
                <h3>æ—¥å¸¸å¯¹è¯</h3>
                <p>æœ€è¿‘æ€ä¹ˆæ ·ï¼Ÿå­¦ä¹ ä¸Šæœ‰ä»€ä¹ˆæ–°çš„æ”¶è·å—ï¼Ÿå¦‚æœé‡åˆ°ä»€ä¹ˆé—®é¢˜ï¼Œéšæ—¶å¯ä»¥æ¥æ‰¾æˆ‘è®¨è®ºã€‚æˆ‘ä»¬ä¸€èµ·æ¥è§£å†³è¿™äº›æŒ‘æˆ˜ï¼Œè®©å­¦ä¹ å˜å¾—æ›´åŠ æœ‰è¶£å’Œæœ‰æ„ä¹‰ã€‚</p>
            </div>
            
            <div class="recording-tips">
                <strong>ğŸ’¡ å½•éŸ³æŠ€å·§ï¼š</strong><br>
                â€¢ ç”¨è‡ªç„¶çš„è¯­è°ƒæœ—è¯»ï¼Œä¸è¦æœºæ¢°åŒ–<br>
                â€¢ åœ¨ä¸åŒå¥å­é—´åŠ å…¥é€‚å½“çš„åœé¡¿<br>
                â€¢ è¡¨è¾¾ä¸åŒçš„æƒ…æ„Ÿï¼šçƒ­æƒ…ã€é¼“åŠ±ã€æ€è€ƒ<br>
                â€¢ å¯ä»¥åŠ å…¥ä¸€äº›å£è¯­åŒ–çš„è¡¨è¾¾<br>
                â€¢ å¦‚æœè¯»é”™äº†ï¼Œåœé¡¿åé‡æ–°å¼€å§‹é‚£ä¸€å¥
            </div>
        </div>

        <!-- åœ¨çº¿å½•éŸ³å·¥å…· -->
        <div class="guide-section">
            <h2>ğŸ¤ åœ¨çº¿å½•éŸ³å·¥å…·</h2>
            <p>æ‚¨å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­å½•åˆ¶è¯­éŸ³æ ·æœ¬ï¼š</p>
            
            <div style="text-align: center; margin: 2rem 0;">
                <button class="record-button" onclick="toggleRecording()" id="recordBtn">
                    <i class="fa fa-microphone"></i> å¼€å§‹å½•éŸ³
                </button>
                <div id="recordingTime" style="margin-top: 1rem; font-size: 1.2rem; font-weight: bold; display: none;">
                    å½•éŸ³æ—¶é—´: <span id="timeDisplay">00:00</span>
                </div>
            </div>
            
            <audio id="recordedAudio" class="audio-player" controls style="display: none;"></audio>
            
            <div id="recordingStatus" style="margin-top: 1rem; text-align: center;"></div>
        </div>

        <!-- è´¨é‡æ£€æŸ¥ -->
        <div class="guide-section">
            <h2>âœ… è´¨é‡æ£€æŸ¥</h2>
            <p>å½•éŸ³å®Œæˆåï¼Œè¯·æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
            <ul class="checklist">
                <li>éŸ³é‡é€‚ä¸­ï¼Œä¸ä¼šè¿‡å°æˆ–è¿‡å¤§</li>
                <li>æ²¡æœ‰æ˜æ˜¾çš„èƒŒæ™¯å™ªéŸ³</li>
                <li>è¯­éŸ³æ¸…æ™°ï¼Œæ²¡æœ‰æ¨¡ç³Šä¸æ¸…çš„åœ°æ–¹</li>
                <li>åŒ…å«äº†å¤šç§è¯­è°ƒå’Œæƒ…æ„Ÿ</li>
                <li>æ€»æ—¶é•¿åœ¨3-10åˆ†é’Ÿä¹‹é—´</li>
            </ul>
        </div>

        <!-- ä¸Šä¼ æ­¥éª¤ -->
        <div class="guide-section">
            <h2>ğŸš€ ä¸Šä¼ å’Œåˆ›å»º</h2>
            <p>å½•éŸ³å®Œæˆåï¼Œæ‚¨å¯ä»¥ï¼š</p>
            <ol>
                <li>è¿”å›è¯­éŸ³è®¾ç½®é¡µé¢</li>
                <li>ä¸Šä¼ æ‚¨å½•åˆ¶çš„éŸ³é¢‘æ–‡ä»¶</li>
                <li>ç‚¹å‡»"åˆ›å»ºè¯­éŸ³å…‹éš†"</li>
                <li>ç­‰å¾…å¤„ç†å®Œæˆï¼ˆé€šå¸¸éœ€è¦å‡ åˆ†é’Ÿï¼‰</li>
                <li>æµ‹è¯•è¯­éŸ³æ•ˆæœ</li>
            </ol>
            
            <div style="text-align: center; margin-top: 2rem;">
                <a href="/minimax-voice-setup.html" class="upload-voice" style="text-decoration: none; display: inline-block;">
                    <i class="fa fa-arrow-right"></i> å‰å¾€MiniMaxè¯­éŸ³è®¾ç½®
                </a>
            </div>
        </div>
    </div>

    <script>
        let mediaRecorder;
        let recordedChunks = [];
        let startTime;
        let timerInterval;

        async function toggleRecording() {
            const recordBtn = document.getElementById('recordBtn');
            const recordingTime = document.getElementById('recordingTime');
            const timeDisplay = document.getElementById('timeDisplay');
            const recordedAudio = document.getElementById('recordedAudio');
            const recordingStatus = document.getElementById('recordingStatus');

            if (mediaRecorder && mediaRecorder.state === 'recording') {
                // åœæ­¢å½•éŸ³
                mediaRecorder.stop();
                recordBtn.innerHTML = '<i class="fa fa-microphone"></i> å¼€å§‹å½•éŸ³';
                recordBtn.classList.remove('recording');
                recordingTime.style.display = 'none';
                clearInterval(timerInterval);
                
                recordingStatus.innerHTML = '<div style="color: #059669;">å½•éŸ³å·²åœæ­¢ï¼Œæ­£åœ¨å¤„ç†...</div>';
            } else {
                // å¼€å§‹å½•éŸ³
                try {
                    const stream = await navigator.mediaDevices.getUserMedia({ 
                        audio: {
                            echoCancellation: true,
                            noiseSuppression: true,
                            sampleRate: 44100
                        } 
                    });
                    
                    recordedChunks = [];
                    mediaRecorder = new MediaRecorder(stream, {
                        mimeType: 'audio/webm;codecs=opus'
                    });

                    mediaRecorder.ondataavailable = (event) => {
                        if (event.data.size > 0) {
                            recordedChunks.push(event.data);
                        }
                    };

                    mediaRecorder.onstop = () => {
                        const blob = new Blob(recordedChunks, { type: 'audio/webm' });
                        const audioUrl = URL.createObjectURL(blob);
                        recordedAudio.src = audioUrl;
                        recordedAudio.style.display = 'block';
                        
                        // åˆ›å»ºä¸‹è½½é“¾æ¥
                        const downloadLink = document.createElement('a');
                        downloadLink.href = audioUrl;
                        downloadLink.download = `ç¤¼æ˜è€å¸ˆè¯­éŸ³æ ·æœ¬_${new Date().toISOString().slice(0,19).replace(/:/g,'-')}.webm`;
                        downloadLink.innerHTML = '<i class="fa fa-download"></i> ä¸‹è½½å½•éŸ³æ–‡ä»¶';
                        downloadLink.style.cssText = 'display: inline-block; margin: 1rem; padding: 0.5rem 1rem; background: #6366f1; color: white; text-decoration: none; border-radius: 8px;';
                        
                        recordingStatus.innerHTML = '<div style="color: #059669;">âœ… å½•éŸ³å®Œæˆï¼è¯·è¯•å¬å¹¶ä¸‹è½½æ–‡ä»¶ã€‚</div>';
                        recordingStatus.appendChild(downloadLink);
                        
                        // åœæ­¢æ‰€æœ‰éŸ³è½¨
                        stream.getTracks().forEach(track => track.stop());
                    };

                    mediaRecorder.start();
                    startTime = Date.now();
                    
                    recordBtn.innerHTML = '<i class="fa fa-stop"></i> åœæ­¢å½•éŸ³';
                    recordBtn.classList.add('recording');
                    recordingTime.style.display = 'block';
                    
                    // å¼€å§‹è®¡æ—¶
                    timerInterval = setInterval(() => {
                        const elapsed = Math.floor((Date.now() - startTime) / 1000);
                        const minutes = Math.floor(elapsed / 60);
                        const seconds = elapsed % 60;
                        timeDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                    }, 1000);
                    
                    recordingStatus.innerHTML = '<div style="color: #0891b2;">ğŸ™ï¸ æ­£åœ¨å½•éŸ³ä¸­ï¼Œè¯·æŒ‰ç…§ç¤ºä¾‹è„šæœ¬è‡ªç„¶æœ—è¯»...</div>';
                    
                } catch (error) {
                    console.error('å½•éŸ³å¤±è´¥:', error);
                    recordingStatus.innerHTML = '<div style="color: #dc2626;">âŒ æ— æ³•è®¿é—®éº¦å…‹é£ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨æƒé™è®¾ç½®</div>';
                }
            }
        }

        // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥éº¦å…‹é£æƒé™
        window.onload = function() {
            navigator.mediaDevices.getUserMedia({ audio: true })
                .then(() => {
                    document.getElementById('recordingStatus').innerHTML = '<div style="color: #059669;">âœ… éº¦å…‹é£æƒé™å·²è·å–ï¼Œå¯ä»¥å¼€å§‹å½•éŸ³</div>';
                })
                .catch(() => {
                    document.getElementById('recordingStatus').innerHTML = '<div style="color: #f59e0b;">âš ï¸ è¯·å…è®¸æµè§ˆå™¨è®¿é—®éº¦å…‹é£ä»¥ä½¿ç”¨å½•éŸ³åŠŸèƒ½</div>';
                });
        };
    </script>
</body>
</html> 